<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,700" rel="stylesheet">
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="/css/makerstrap.min.css">
<title>Webmaker Screenshot</title>
<div id="app"></div>
<script src="/js/bundle.js"></script>
<script src="/vendor/react/build/react.js"></script>
<script src="/vendor/react/build/JSXTransformer.js"></script>
<script src="/js/app.jsx" type="text/jsx"></script>
<script type="text/jsx">
var ScreenshotConfig = require('./screenshot-config');
var screenshotConfig = new ScreenshotConfig();

function changeURL(url) {
  window.location.hash = '#' + encodeURIComponent(url);
}

function render() {
  var url = decodeURIComponent(window.location.hash.slice(1));
  React.render(
    <App config={screenshotConfig} url={url} onSubmitURL={changeURL}/>,
    document.getElementById("app")
  );
}

window.addEventListener('hashchange', render, false);
render();
</script>
